<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets">
<h:head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<title><ui:insert name="titre">Titre</ui:insert></title>

	<h:outputStylesheet name="styles.css" library="css" />

	<script src="https://ajax.aspnetcdn.com/ajax/jQuery/jquery-3.6.0.js" type="text/javascript"></script>
	<script src="https://ajax.aspnetcdn.com/ajax/jquery.ui/1.12.1/jquery-ui.js" type="text/javascript" ></script>	
	<link rel="stylesheet" href="https://ajax.aspnetcdn.com/ajax/jquery.ui/1.12.1/themes/smoothness/jquery-ui.css" />
	<h:outputScript name="datepicker-fr.js" library="js" />

	<ui:insert name="head" />
</h:head>
<h:body>
<ui:debug hotkey="x" rendered="#{initParam['javax.faces.PROJECT_STAGE'] == 'Development'}"/>
<div id="body">

	<h:outputText value="&nbsp;" rendered="#{not compteActif.loggedIn}" />
	<h:form rendered="#{compteActif.loggedIn}">	
	
		<div id="recherche">
		<h:form>
	        <h:inputText value="#{bean.motCle}" class= "input-recherche" />
	        <h:commandButton 
					value="Rechercher" 
					image="#{ resource['images:loupe.png'] }" 
					styleClass="image-action"
					action="#{bean.rechercher}"
				>
				</h:commandButton>
	    </h:form>
	    	
	</div>
	
	<div id="barre">
		<h:graphicImage name="images/logo_java.png" width="110" height="50"/>
				<div id="liste">
			<ul>
				<li><h:graphicImage name="images/page-daccueil.png"/>
	    			<h:link outcome="info" value="Accueil"  /></li>
				<li><h:graphicImage name="images/silhouette-dutilisateurs-multiples.png"/>
					<h:link outcome="listePersonnes" value="Personnes" rendered="#{compteActif.utilisateur }" /></li>
				<h:panelGroup rendered="#{compteActif.admininstrateur}">
				<li><h:graphicImage name="images/categorie.png"/>
					<h:link outcome="listeCategories" value="Catégories"  /></li>
				<li><h:graphicImage name="images/poesie.png"/>
					<h:link outcome="listeAuteurs" value="Auteurs"  /></li>
				<li><h:graphicImage name="images/livre-ouvert.png"/>
					<h:link outcome="listeOuvrages" value="Ouvrages"  /></li>
				<li><h:graphicImage name="images/ombre-de-lutilisateur-masculin.png" />
					<h:link outcome="comptes" value="Comptes"  /></li>
				</h:panelGroup>
					<li><h:graphicImage name="images/se-deconnecter.png" />
					<h:commandLink action="#{compteActif.disconnect()}" value="Déconnexion"  /></li>
			</ul>
				</div>
	</div>
	</h:form>


<h1><ui:insert name="titre">Titre absent</ui:insert></h1>

<h:messages errorClass="error" globalOnly="false" infoClass="info" styleClass="messages" warnClass="warning" />

<div id="content">
	<ui:insert name="contenu">
		Contenu absent
	</ui:insert>
</div>

<div id="footer">©
	<h:outputText value="#{utilJsf.now()}" >
		<f:convertDateTime pattern="yyyy" />
	</h:outputText>
 	- #{initParam['site.name']}
</div>

</div></h:body>
</html>